function t(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}class i{constructor(){return t(this,"attr",(t,i)=>(this.attributes[t]=i,this)),t(this,"fill",t=>this.attr("fill",t)),t(this,"stroke",t=>this.attr("stroke",t)),t(this,"strokeWidth",t=>this.attr("stroke-width",t)),t(this,"style",t=>this.attr("style",t)),t(this,"m",(t,i)=>this.moveTo(t,i,!0)),t(this,"M",(t,i)=>this.moveTo(t,i)),t(this,"moveTo",(t,i,s=!1)=>(this.pathData.push(`${s?"m":"M"}${t} ${i}`),this)),t(this,"l",(t,i)=>this.lineTo(t,i,!0)),t(this,"L",(t,i)=>this.lineTo(t,i)),t(this,"lineTo",(t,i,s=!1)=>(this.pathData.push(`${s?"l":"L"}${t} ${i}`),this)),t(this,"H",t=>this.horizontalTo(t)),t(this,"h",t=>this.horizontalTo(t,!0)),t(this,"horizontalTo",(t,i=!1)=>(this.pathData.push(`${i?"h":"H"}${t}`),this)),t(this,"V",t=>this.verticalTo(t)),t(this,"v",t=>this.verticalTo(t,!0)),t(this,"verticalTo",(t,i=!1)=>(this.pathData.push(`${i?"v":"V"}${t}`),this)),t(this,"Q",(t,i,s,h)=>this.qCurve(t,i,s,h)),t(this,"q",(t,i,s,h)=>this.qCurve(t,i,s,h,!0)),t(this,"qCurve",(t,i,s,h,r=!1)=>(this.pathData.push(`${r?"q":"Q"}${t} ${i} ${s} ${h}`),this)),t(this,"T",(t,i)=>this.tCurveTo(t,i)),t(this,"t",(t,i)=>this.tCurveTo(t,i,!0)),t(this,"tCurveTo",(t,i,s=!1)=>(this.pathData.push(`${s?"t":"T"}${t} ${i}`),this)),t(this,"C",(t,i,s,h,r,o)=>this.cCurve(t,i,s,h,r,o)),t(this,"c",(t,i,s,h,r,o)=>this.cCurve(t,i,s,h,r,o,!0)),t(this,"cCurve",(t,i,s,h,r,o,n=!1)=>(this.pathData.push(`${n?"c":"C"}${t} ${i} ${s} ${h} ${r} ${o}`),this)),t(this,"S",(t,i,s,h)=>this.sCurveTo(t,i,s,h)),t(this,"s",(t,i,s,h)=>this.sCurveTo(t,i,s,h,!0)),t(this,"sCurveTo",(t,i,s,h,r=!1)=>(this.pathData.push(`${r?"s":"S"}${t} ${i} ${s} ${h}`),this)),t(this,"A",(t,i,s,h,r,o,n)=>this.arc(t,i,s,h,r,o,n)),t(this,"a",(t,i,s,h,r,o,n)=>this.arc(t,i,s,h,r,o,n,!0)),t(this,"arc",(t,i,s,h,r,o,n,a=!1)=>(this.pathData.push(`${a?"a":"A"}${t} ${i} ${s} ${h} ${r} ${o} ${n}`),this)),t(this,"down",t=>this.v(t)),t(this,"up",t=>this.v(-1*t)),t(this,"right",t=>this.h(t)),t(this,"left",t=>this.h(-1*t)),t(this,"close",()=>(this.pathData.push("z"),this)),t(this,"toArray",()=>this.pathData),t(this,"toString",()=>this.pathData.join("")),t(this,"toElement",(t={})=>{const i={...this.attributes,...t},s=document.createElementNS("http://www.w3.org/2000/svg","path");return Object.keys(i).forEach(t=>{s.setAttribute(t,i[t]);}),s.setAttribute("d",this.toString()),s}),this.pathData=[],this.attributes={},this}}t(i,"angleInRadians",t=>t*Math.PI/180),t(i,"polarToCartesian",(t,s,h,r)=>{const o=i.angleInRadians(r);return {x:t+h*Math.cos(o),y:s+h*Math.sin(o)}}),t(i,"radialPoints",(t,i,s,h,r,o=1)=>{r=r||-.5*Math.PI,t=t||1e-10;const n=2*Math.PI*o/h,a=Array.from(Array(h>=0?h:0).keys()),e=Math.max(0,4-Math.floor(Math.log10(t)));return a.map((h,o)=>{const a=o*n+r;return [(i+t*Math.cos(a)).toFixed(e),(s+t*Math.sin(a)).toFixed(e)]})}),t(i,"positionByArray",(t,i,s,h)=>{const r=[],o=t/2;return i.forEach((i,n)=>{i.forEach((i,a)=>{i&&r.push({size:t,cx:a*t+o+s,cy:n*t+o+h,ri:n,ci:a,value:i});});}),r}),t(i,"macro",(t,s)=>{i.prototype[t]=s;}),i.macro("rect",(function(t,i,s,h,r=!0){return this.M(s-t/2,h-i/2).right(t).down(i).left(t).up(i),r&&this.M(s,h),this})),i.macro("square",(function(t,i,s,h=!0){return this.rect(t,t,i,s,h)})),i.macro("roundedSquare",(function(t,i,s,h,r=!0){return this.roundedRect(t,t,i,s,h,r)})),i.macro("roundedRect",(function(t,i,s,h,r,o=!0){const n=r-i/2,a=h-t/2,e=a+t,c=n+i;let u=Math.min(s,t/2);u=u<0?0:u;let l=Math.min(s,i/2);l=l<0?0:l;const p=Math.max(t-2*u,0),M=Math.max(i-2*l,0);return this.M(a+u,n).right(p).A(u,l,0,0,1,e,n+l).down(M).A(u,l,0,0,1,e-u,c).left(p).A(u,l,0,0,1,a,c-l).up(M).A(u,l,0,0,1,a+u,n).M(a,n),o&&this.M(h,r),this})),i.macro("circle",(function(t,i,s,h=!0){return this.ellipse(t,t,i,s,h)})),i.macro("ellipse",(function(t,i,s,h,r=!0){const o=t/2,n=i/2;return this.M(s+o,h).A(o,n,0,0,1,s-o,h).A(o,n,0,0,1,s+o,h).close(),r&&this.M(s,h),this})),i.macro("lens",(function(t,i,s,h,r=!0){return this.M(s-t/2,h).Q(s,h-i,s+t/2,h).Q(s,h+i,s-t/2,h),r&&this.M(s,h),this})),i.macro("polyline",(function(t,i=!1){const s=[...t],h=s.shift(),r=i?this.m:this.M,o=i?this.l:this.L;return r.apply(null,h),s.forEach(t=>{o.apply(null,t);}),this})),i.macro("polygon",(function(t){return this.polyline(t).close(),this})),i.macro("regPolygon",(function(t,i,s,h,r=!0){return this.polygon(this.constructor.radialPoints(t/2,s,h,i)),r&&this.M(s,h),this})),i.macro("polygram",(function(t,i,s,h,r=2,o=!0){return this.polygon(this.constructor.radialPoints(t/2,s,h,i,null,r)),o&&this.M(s,h),this})),i.macro("radialLines",(function(t,i,s,h,r,o=!0){const n=this.constructor.radialPoints(i/2,h,r,s),a=this.constructor.radialPoints(t/2,h,r,s);return n.forEach((t,i)=>{this.M(t[0],t[1]).L(a[i][0],a[i][1]);}),o&&this.M(h,r),this})),i.macro("star",(function(t,i,s,h,r,o=!0){const n=i/2,a=t/2,e=360/(2*s),c=Array.from({length:2*s}).map((t,i)=>{let s=i%2==0?a:n,c=e*i-90;const{x:u,y:l}=this.constructor.polarToCartesian(h,r,s,c,o);return [u,l]});return this.polygon(c),o&&this.M(h,r),this})),i.macro("triangle",(function(t,i,s,h=!0){const r=Math.sqrt(3),o=[i,s-r/3*t],n=[i-t/2,s+r/6*t],a=[i+t/2,s+r/6*t];return this.polygon([o,n,a]),h&&this.M(i,s),this})),i.macro("sector",(function(t,i,s,h,r,o=!0){const n=s/2,a=this.constructor.polarToCartesian(t,i,n,r-90),e=this.constructor.polarToCartesian(t,i,n,h-90),c=r-h<=180?0:1;return this.M(a.x,a.y).A(n,n,0,c,0,e.x,e.y).L(t,i).L(a.x,a.y),o&&this.M(t,i),this})),i.macro("segment",(function(t,i,s,h,r,o=!0){const n=s/2,a=this.constructor.polarToCartesian(t,i,n,r-90),e=this.constructor.polarToCartesian(t,i,n,h-90),c=r-h<=180?0:1;return this.M(a.x,a.y).A(n,n,0,c,0,e.x,e.y),o&&this.M(t,i),this})),i.macro("cross",(function(t,i,s,h,r=!0){const o=s-t/2,n=o+t,a=h-i/2,e=a+i;return this.M(o,h).L(n,h).M(s,e).L(s,a),r&&this.M(s,h),this})),i.macro("symH",(function(t,i,s,h,r=!0){const o=s-t/2,n=o+t,a=h-i/2,e=a+i;return this.M(o,a).L(o,e).M(o,h).L(n,h).M(n,a).L(n,e),r&&this.M(s,h),this})),i.macro("symI",(function(t,i,s,h,r=!0){const o=s-t/2,n=o+t,a=h-i/2,e=a+i;return this.M(o,a).L(n,a).M(s,a).L(s,e).M(o,e).L(n,e),r&&this.M(s,h),this})),i.macro("symX",(function(t,i,s,h,r=!0){const o=s-t/2,n=o+t,a=h-i/2,e=a+i;return this.M(o,a).L(n,e).M(o,e).L(n,a),r&&this.M(s,h),this})),i.macro("omino",(function(t,i,s,h,r=!1){return this.constructor.positionByArray(t,i,s,h).forEach((t,i,s)=>{const{cx:h,cy:o,ri:n,ci:a,size:e}=t,c=e/2,u=s.find(t=>t.ri===n&&t.ci===a-1),l=s.find(t=>t.ri===n&&t.ci===a+1),p=s.find(t=>t.ri===n-1&&t.ci===a),M=s.find(t=>t.ri===n+1&&t.ci===a),m=h-c,f=h+c,$=o-c,y=o+c;u&&!r||(this.M(m,$),this.v(e)),l||(this.M(f,$),this.v(e)),p&&!r||(this.M(m,$),this.h(e)),M||(this.M(m,y),this.h(e));}),this}));

export default i;
